:root {
  --bg: #05050a;
  --purple: #a855f7;
  --blue: #38bdf8;
}

* { box-sizing: border-box; margin:0; padding:0; }

body {
  height: 100vh;
  background: radial-gradient(circle, #0a0a1a, var(--bg));
  display: flex;
  justify-content: center;
  align-items: center;
  font-family: Segoe UI, sans-serif;
  overflow: hidden;
}

/* Консоль кнопка */
#consoleBtn {
  position: fixed;
  top: 15px;
  left: 15px;
  z-index: 100;
  background: var(--purple);
  color: white;
  padding: 10px 18px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: transform 0.25s ease, background 0.25s ease;
}
#consoleBtn:hover { transform: scale(1.1); background: var(--blue); }

/* Веб контейнер — квадрат и масштабируется по ширине экрана */
.web {
  position: relative;
  width: min(92vw, 900px);  /* максимум 900px, но подстраивается под экран */
  aspect-ratio: 1;          /* квадрат */
}

/* Узлы — автоподгонка под размер контейнера */
.node {
  position: absolute;
  width: calc(14% + 10px);  /* примерно масштаб под контейнер */
  height: calc(14% + 10px);
  border-radius: 50%;
  background: rgba(15,15,35,0.95);
  border: 2px solid var(--purple);
  box-shadow: 0 0 20px var(--purple);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  user-select: none;
  touch-action: none;
  transition: 0.3s;
  font-size: calc(0.9vw + 4px); /* масштаб текста */
}

/* Центр — подстраиваемся под экран */
.center {
  width: calc(20% + 20px);
  height: calc(20% + 20px);
  font-weight: bold;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  background: linear-gradient(135deg,#3b0764,#0c4a6e);
  z-index: 3;
  cursor: grab;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: calc(1vw + 8px);
}

/* SVG — занимает весь контейнер */
svg {
  width: 100%;
  height: 100%;
  position: absolute;
  inset: 0;
}

/* Линии и кольца адаптивные */
.radials line,
.ring {
  stroke-width: calc(0.25vw + 1px); /* масштаб линии */
}

.web.hovered .radials line,
svg:hover .radials line {
  stroke: var(--blue);
  filter: drop-shadow(0 0 10px var(--blue));
}
.ring { fill:none; stroke: rgba(168,85,247,0.9); stroke-dasharray:10 12; filter: drop-shadow(0 0 10px #7c3aed);}
.thin { stroke-width: 1.6; opacity: 0.5; }
.thick { stroke-width: 4.5; }

/* Узлы */

.node:hover { transform: scale(1.12); }
.node.done::after { content: "✖"; position: absolute; font-size: 40px; color:#ff4d4d; }

/* Центр */

.center:active { cursor: grabbing; }

/* Позиции */
.n1 { top: 2%; left: 42%; }
.n2 { top: 16%; left: 72%; }
.n3 { top: 45%; left: 82%; }
.n4 { top: 72%; left: 69%; }
.n5 { top: 82%; left: 42%; }
.n6 { top: 70%; left: 14%; }
.n7 { top: 40%; left: 3%; }
.n8 { top: 15%; left: 18%; }

/* Консоль input - фиксированный и поверх всего */
#consoleInputBox {
  position: absolute;
  top: 5%;
  left: 50%;
  transform: translate(-50%,0);
  display: flex;
  gap: 8px;
  pointer-events: all;
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 9999; /* выше всех узлов */
}
#consoleInputBox.show { opacity: 1; }
#consoleInputBox input {
  padding: 8px;
  border-radius: 6px;
  border: 2px solid var(--purple);
  background: #0f0f23;
  color: white;
  width: 160px;
  text-align: center;
}
#consoleInputBox button {
  padding: 8px 12px;
  border: none;
  border-radius:6px;
  background: var(--purple);
  color:white;
  cursor: pointer;
  transition: 0.2s;
}
#consoleInputBox button:hover { background: var(--blue); transform: scale(1.05);}
